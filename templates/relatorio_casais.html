<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>{{ titulo or 'Relatório de Casais' }}</title>
  <style>
    :root{
      --brand-strong: 22px;
      --brand-mid: 16px;
    }
    body { font-family: Arial, sans-serif; margin: 20px; color:#222; }
    .brand-bar { display:flex; align-items:center; justify-content:space-between; gap:16px; }
    .brand-logo { height: 110px; object-fit: contain; display:block; }
    .brand-center { flex:1; text-align:center; }
    .l1, .l2, .l5 { font-size: var(--brand-strong); font-weight: 700; line-height: 1.15; margin: 0; }
    .l3, .l4 { font-size: var(--brand-mid); font-weight: 600; line-height: 1.2; margin: 2px 0; color:#333; }
    .title-line { font-size: var(--brand-strong); font-weight: 700; margin: 6px 0 0; }

    .form { margin-top:16px; }
    textarea { width:100%; height:150px; }
    .controls { margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; }
    .print-btn { padding: 8px 16px; background: #007BFF; color: #fff; border: 0; border-radius:8px; cursor:pointer; }
    input[type="text"]{ width:100%; padding:8px 10px; font-size:16px; border:1px solid #ccc; border-radius:8px; }

    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; vertical-align: top; }
    th { background-color: #f0f0f0; }

    /* Esconder campos de edição no impresso */
    @media print {
      .no-print { display:none !important; }
      body { margin: 10mm; }
      .brand-logo { height: 85px; }
      .l1, .l2, .l5 { font-size: 20px; }
      .l3, .l4 { font-size: 14px; }
      .title-line { font-size: 20px; }
    }
  </style>
</head>
<body>
  <div class="brand-bar">
    <img class="brand-logo" src="{{ url_for('static', filename='img/brasao_divino.jpg') }}" alt="Paróquia Divino Espírito Santo">
    <div class="brand-center">
      <p class="l1">PARÓQUIA DIVINO ESPÍRITO SANTO</p>
      <p class="l2">Jatiúca - Maceió - AL</p>
      <p class="l3">Forania Nossa Senhora Mãe do Povo</p>
      <p class="l4">Arquidiocese de Maceió</p>
      <p class="l5">Encontro de Casais com Cristo</p>
      <p class="title-line">{{ titulo or 'Relatório de Casais' }}</p>
    </div>
    <img class="brand-logo" src="{{ url_for('static', filename='img/brasao_ecc.jpg') }}" alt="ECC">
  </div>

  <!-- edição de título e entrada (somem no impresso) -->
  <form method="POST" class="form no-print">
    <label for="titulo"><strong>Título do relatório</strong></label>
    <input type="text" id="titulo" name="titulo" value="{{ titulo or 'Relatório de Casais' }}" placeholder="Digite o título do relatório">
    <div style="height:8px;"></div>

    <label for="lista_nomes">Cole a lista (separadores: “;”, “ e ” ou espaço):</label>
    <textarea id="lista_nomes" name="lista_nomes" placeholder="Exemplos:
Pedro;Ana
Pedro e Ana
Pedro Ana">{{ entrada or '' }}</textarea>

    <div class="controls">
      <button type="submit">Gerar Relatório</button>
      <button type="button" class="print-btn" onclick="window.print()">Imprimir / Salvar PDF</button>
    </div>
  </form>

  {% if resultados %}
    <table>
      <tr>
        <th>Casal</th>
        <th>Endereço</th>
        <th>Telefones</th>
      </tr>
      {% for r in resultados %}
      <tr>
        <td>{{ r.nome }}</td>
        <td>{{ r.endereco }}</td>
        <td>{{ r.telefones }}</td>
      </tr>
      {% endfor %}
    </table>
  {% endif %}
</body>
</html>
